   <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HABOOB 🧇 - Order</title>
<style>
body { font-family: 'Poppins', sans-serif; background: #fff7f0; margin:0; padding:10px; }
h1 { text-align:center; color:#FF8C42; margin-bottom:20px; font-size:28px; }
.menu { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; }
.product { background:#FFE4C4; border-radius:15px; width:220px; padding:15px; display:flex; flex-direction:column; align-items:center; transition: transform 0.2s; }
.product:hover { transform: translateY(-3px); }
.product img { width:180px; height:120px; object-fit:cover; border-radius:12px; margin-bottom:8px; }
.product p { margin:5px 0; text-align:center; font-weight:500; }
.counter { display:flex; gap:5px; align-items:center; margin-bottom:5px; }
.counter button { padding:4px 8px; cursor:pointer; }
.unit-addon select { width:130px; padding:4px; border-radius:6px; border:1px solid #ccc; margin-bottom:5px; }
#total { font-weight:bold; color:#FF4500; margin:10px 0; text-align:center; font-size:16px; }
#preview { background:#fff5f5; padding:12px; border-radius:10px; margin-top:10px; display:none; font-size:14px; }
.form input, .form button, .form textarea { width:100%; padding:10px; margin:5px 0; border-radius:6px; border:1px solid #ccc; font-size:14px; }
.form button { background:#FF8C42; color:#fff; border:none; cursor:pointer; }
.form button:hover { background:#FF7034; }
label { font-size:14px; color:#4b2a3a; margin:5px 0; display:block; }
.unit-addon { margin-bottom:5px; }
</style>
   <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7SP77MT0K9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config','G-7SP77MT0K9');
</script>
   
</head>
<body>

<h1>HABOOB 🧇</h1>

<div class="menu">
  <!-- Stick Waffle -->
  <div class="product" data-name="Stick Waffle" data-price="0.75">
    <img src="https://tse2.mm.bing.net/th/id/OIP.s64qGlzJ2YJ-6aS2vWGROAAAAA?r=0&rs=1&pid=ImgDetMain&o=7&rm=3" alt="Stick Waffle">
    <p>Stick Waffle - <b>0.75 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Taiyaki Waffle -->
  <div class="product" data-name="Taiyaki Waffle" data-price="1.00">
    <img src="https://i.imgur.com/hnMVK1c.jpeg" alt="Taiyaki Waffle">
    <p>Taiyaki Waffle - <b>1.00 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Classic Waffle -->
  <div class="product" data-name="Classic Waffle" data-price="1.50">
    <img src="https://media.istockphoto.com/id/1358966473/vector/waffle-vector-illustration.jpg?s=1024x1024&w=is&k=20&c=PZqX8WqsOXY4U5T8aVDeDwWt4rMCgK6XAsE4eMf8-qU=" alt="Classic Waffle">
    <p>Classic Waffle - <b>1.50 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Crepe -->
  <div class="product" data-name="Crepe" data-price="1.25">
    <img src="https://th.bing.com/th/id/OIP.HIL0TCxVj23U5Gu1ySNsXgHaHa?w=186&h=186&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3" alt="Crepe">
    <p>Crepe - <b>1.25 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Haboob Spaghetti -->
  <div class="product" data-name="Haboob Spaghetti" data-price="1.25">
    <img src="https://hungryforhalaal.co.za/wp-content/uploads/2020/03/Dip-n-Dip-Hungry-for-Halaal-768x509.jpg" alt="Haboob Spaghetti">
    <p>Haboob Spaghetti - <b>1.25 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Moheto (كنزا ليمون) -->
  <div class="product" data-name="Moheto (كنزا ليمون)" data-price="1.00">
    <img src="https://i.imgur.com/Z1URZ3T.jpeg" alt="Moheto Kenza Lemon">
    <p>Moheto (كنزا ليمون) - <b>1.00 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Moheto (BM) -->
  <div class="product" data-name="Moheto (BM)" data-price="1.25">
    <img src="https://i.imgur.com/Z1URZ3T.jpeg" alt="Moheto BM">
    <p>Moheto (BM) - <b>1.25 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>

  <!-- Moheto (بوم بوم) -->
  <div class="product" data-name="Moheto (بوم بوم)" data-price="1.50">
    <img src="https://i.imgur.com/Z1URZ3T.jpeg" alt="Moheto Boom Boom">
    <p>Moheto (بوم بوم) - <b>1.50 JD</b></p>
    <div class="counter">
      <button class="minus">-</button>
      <span class="qty">0</span>
      <button class="plus">+</button>
    </div>
    <div class="units-container"></div>
  </div>
</div>

<p id="total">Total: 0 JD</p>

<div class="form">
  <input type="text" id="name" placeholder="Name" style="font-size:13px" required>
  <input type="tel" id="phone" placeholder="Phone Number" style="font-size:13px" required>
  <textarea id="notes" placeholder="Notes" rows="2" style="font-size:13px; resize:none"></textarea>

  <p><b>Delivery Method:</b></p>
  <label><input type="radio" name="delivery" value="Pickup" required> Pickup</label>
  <label><input type="radio" name="delivery" value="Delivery"> Delivery (+0.5 JD)</label>

  <input type="text" id="address" placeholder="Address (for delivery)" style="font-size:13px">

  <button type="button" onclick="showPreview()">Show Order</button>
  <button type="submit" id="sendBtn">Send via WhatsApp</button>
  <button type="button" onclick="resetOrder()">Cancel</button>
</div>

<div id="preview"></div>

<script>
const products = document.querySelectorAll(".product");
const totalEl = document.getElementById("total");
const deliveryRadios = document.querySelectorAll('input[name="delivery"]');

products.forEach(product => {
  const plusBtn = product.querySelector(".plus");
  const minusBtn = product.querySelector(".minus");
  const qtySpan = product.querySelector(".qty");
  const unitsContainer = product.querySelector(".units-container");

  // زر الزيادة
  plusBtn.addEventListener("click", () => {
    let count = parseInt(qtySpan.textContent);
    count++;
    qtySpan.textContent = count;

    // إنشاء حقل نكهة جديد
    const div = document.createElement("div");
    div.className = "unit-addon";

    const sel = document.createElement("select");
    sel.innerHTML = `<option value="" disabled selected>${product.dataset.name.startsWith("Moheto") ? "Select Flavor" : "Non"}</option>`;

    if (product.dataset.name.startsWith("Moheto")) {
      sel.innerHTML += `
        <option value="Mix Berry">Mix Berry</option>
        <option value="Passion Fruit">Passion Fruit</option>
        <option value="Blue Curacao">Blue Curacao</option>
        <option value="Mango">Mango</option>
        <option value="Kiwi">Kiwi</option>
      `;
    } else {
      sel.innerHTML += `
        <option value="Pistachio">Pistachio (+0.5 JD)</option>
        <option value="Lotus">Lotus (+0.5 JD)</option>
        <option value="Kinder">Kinder (+0.5 JD)</option>
      `;
    }

    sel.addEventListener("change", calculateTotal);
    div.appendChild(sel);
    unitsContainer.appendChild(div);

    calculateTotal();
  });

  // زر النقصان
  minusBtn.addEventListener("click", () => {
    let count = parseInt(qtySpan.textContent);
    if (count > 0) {
      count--;
      qtySpan.textContent = count;

      // احذف آخر عنصر من القائمة
      if (unitsContainer.lastChild) {
        unitsContainer.removeChild(unitsContainer.lastChild);
      }

      calculateTotal();
    }
  });
});

// حساب المجموع
function calculateTotal() {
  let total = 0;
  products.forEach(p => {
    const basePrice = parseFloat(p.dataset.price);
    const selects = p.querySelectorAll(".unit-addon select");
    selects.forEach(sel => {
      total += basePrice;
      if (!p.dataset.name.startsWith("Moheto") && sel.value !== "" && sel.value !== "Non") {
        total += 0.5;
      }
    });
  });

  const delivery = document.querySelector('input[name="delivery"]:checked')?.value;
  if (delivery === "Delivery") total += 0.5;

  totalEl.textContent = "Total: " + total.toFixed(2) + " JD";
  return total;
}

// تحديث السعر عند تغيير طريقة التوصيل
deliveryRadios.forEach(r => r.addEventListener("change", calculateTotal));

// عرض المعاينة
function showPreview() {
  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;
  const address = document.getElementById("address").value;
  const notes = document.getElementById("notes").value;
  const delivery = document.querySelector('input[name="delivery"]:checked')?.value || "Not selected";

  let orderList = [];
  products.forEach(p => {
    const selects = p.querySelectorAll(".unit-addon select");
    selects.forEach(sel => {
      if (sel.value !== "") {
        orderList.push(`${p.dataset.name} (${sel.value}) - ${parseFloat(p.dataset.price).toFixed(2)} JD`);
      }
    });
  });

  const total = calculateTotal();
  const previewBox = document.getElementById("preview");
  if (orderList.length > 0) {
    previewBox.style.display = "block";
    previewBox.innerHTML = `<h3>Order Summary 📋</h3>
      <p><b>Name:</b> ${name}</p>
      <p><b>Phone:</b> ${phone}</p>
      <p><b>Delivery Method:</b> ${delivery}</p>
      <p><b>Address:</b> ${address}</p>
      <p><b>Notes:</b> ${notes}</p>
      <ul><li>${orderList.join("</li><li>")}</li></ul>
      <p><b>💰 Total:</b> ${total.toFixed(2)} JD</p>`;
  } else {
    previewBox.style.display = "block";
    previewBox.innerHTML = "<p>⚠️ No items selected.</p>";
  }
}

// إعادة تعيين الطلب
function resetOrder() {
  products.forEach(p => {
    p.querySelector(".qty").textContent = "0";
    p.querySelector(".units-container").innerHTML = "";
  });
  document.getElementById("name").value = "";
  document.getElementById("phone").value = "";
  document.getElementById("address").value = "";
  document.getElementById("notes").value = "";
  document.querySelectorAll('input[name="delivery"]').forEach(r => r.checked = false);
  totalEl.textContent = "Total: 0 JD";
  document.getElementById("preview").style.display = "none";
}

// إرسال عبر واتساب
document.getElementById("sendBtn").addEventListener("click", function () {
  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;
  const address = document.getElementById("address").value;
  const notes = document.getElementById("notes").value;
  const delivery = document.querySelector('input[name="delivery"]:checked')?.value || "Not selected";

  let orderList = [];
  products.forEach(p => {
    const selects = p.querySelectorAll(".unit-addon select");
    selects.forEach(sel => {
      if (sel.value !== "") {
        let price = parseFloat(p.dataset.price);
        if (!p.dataset.name.startsWith("Moheto") && sel.value !== "Non") {
          price += 0.5;
        }
        orderList.push(`${p.dataset.name} (${sel.value}) - ${price.toFixed(2)} JD`);
      }
    });
  });

  const total = calculateTotal();
  if (orderList.length === 0) {
    alert("⚠️ No items selected!");
    return;
  }

  const message = `New Order 📦%0AName: ${name}%0APhone: ${phone}%0ADelivery: ${delivery}%0AAddress: ${address}%0AItems: ${orderList.join(" | ")}%0ATotal: ${total.toFixed(2)} JD%0ANotes: ${notes}`;
  const whatsappNumber = "962781613637";
  window.open(`https://wa.me/${whatsappNumber}?text=${message}`, "_blank");
});
</script>

</body>

</html>
